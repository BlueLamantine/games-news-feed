{"version":3,"sources":["games.js","fixtures.js","utils.js","index.js"],"names":["gameInfo","response","apps","appid","name","last_modified","price_change_number","have_more_results","last_appid","newsByGame","gid","title","url","is_external_url","author","contents","feedlabel","date","feedname","feed_type","getDateFromUnixTimestamp","dt","Date","toLocaleDateString","renderApp","document","querySelector","innerHTML","App","renderForm","renderNewsFeed","content","Object","keys","window","dataStore","currentGames","map","newsData","join","trackGames","addEventListener","target","type","checked","value"],"mappings":";AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA,EAAA,MAAMA,EAAW,CACtBC,SAAU,CACRC,KAAM,CACJ,CACEC,MAAO,IACPC,KAAM,mCACNC,cAAe,WACfC,oBAAqB,UAEvB,CACEH,MAAO,QACPC,KAAM,iBACNC,cAAe,WACfC,oBAAqB,UAEvB,CACEH,MAAO,IACPC,KAAM,SACNC,cAAe,WACfC,oBAAqB,WAGzBC,mBAAmB,EACnBC,WAAY,MAvBT,QAAA,SAAA;;ACAA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,gBAAA,EAAA,MAAMC,EAAa,CACnB,IAAA,CACHC,IAAK,sBACLC,MAAO,+DACPC,IAAK,sFACLC,iBAAiB,EACjBC,OAAQ,wBACRC,SACE,o2DACFC,UAAW,cACXC,KAAM,WACNC,SAAU,cACVC,UAAW,EACXhB,MAAO,KAEJ,IAAA,CACHO,IAAK,sBACLC,MAAO,8DACPC,IAAK,mFACLC,iBAAiB,EACjBC,OAAQ,sBACRC,SACE,y2DACFC,UAAW,WACXC,KAAM,WACNC,SAAU,WACVC,UAAW,EACXhB,MAAO,KAEA,QAAA,CACPO,IAAK,sBACLC,MACE,sGACFC,IAAK,oFACLC,iBAAiB,EACjBC,OAAQ,GACRC,SACE,4gCACFC,UAAW,YACXC,KAAM,WACNC,SAAU,YACVC,UAAW,EACXhB,MAAO,SA1CJ,QAAA,WAAA;;ACEN,aAFM,SAASiB,EAAyBC,GAChC,OAAA,IAAIC,KAAU,IAALD,GAAWE,qBAC5B,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,yBAAA;;AC4EA,aA9ED,IAAA,EAAA,QAAA,cACA,EAAA,QAAA,iBACA,EAAA,QAAA,WAQA,SAASC,IACPC,SAASC,cAAc,aAAaC,uBAC5BC,YAIV,SAASA,IACC,oCACiBC,mFAM3B,SAASC,IACHC,IAAAA,EAAU,GAYPA,OAXPC,OAAOC,KAAKC,OAAOC,UAAUC,cAAcC,IAAIlC,IACvCmC,MAAAA,EAAW7B,EAAWN,WAAAA,GACxBmC,GAAAA,EAAU,CACN,MAAA,KAAErB,EAAF,MAAQN,EAAR,SAAeI,GAAauB,EAElCP,wBAAgCpB,SAChCoB,YAAmB,EAAyBd,EAAAA,0BAAAA,WAC5Cc,yBAAiChB,WAI9BgB,UAAkBA,UAAkB,4BAG7C,SAASF,IACC,8GAGA7B,EAASC,SAAAA,SAASC,KACjBmC,IACC,EAAGlC,MAAAA,EAAOC,KAAAA,oBACOD,yFAGLA,yEAEEC,gCACCD,yGAGgBC,oCAGhCmC,KAAK,qCAOhB,SAASC,IACPf,SAASC,cAAc,UAAUe,iBAAiB,SAAU,EAAGC,OAAAA,MACzC,aAAhBA,EAAOC,QACc,IAAnBD,EAAOE,SACTV,OAAOC,UAAUC,aAAaM,EAAOG,OAASH,EAAOtC,KACrDqB,SAASC,cAAc,SAASC,UAAYO,OAAOJ,0BAE5CI,OAAOC,UAAUC,aAAaM,EAAOG,OAC5CpB,SAASC,cAAc,SAASC,UAAYO,OAAOJ,qBAtE3DI,OAAOC,UAAY,CACjBC,aAAc,IAGhBZ,IAcAU,OAAOJ,eAAiBA,EA0CxBU","file":"games-news-feed.54f457e2.js","sourceRoot":"..","sourcesContent":["export const gameInfo = {\n  response: {\n    apps: [\n      {\n        appid: 730,\n        name: 'Counter-Strike: Global Offensive',\n        last_modified: 1602535893,\n        price_change_number: 10401154,\n      },\n      {\n        appid: 1091500,\n        name: 'Cyberpunk 2077',\n        last_modified: 1579634708,\n        price_change_number: 10401154,\n      },\n      {\n        appid: 570,\n        name: 'Dota 2',\n        last_modified: 1512413490,\n        price_change_number: 10401154,\n      },\n    ],\n    have_more_results: true,\n    last_appid: 570,\n  },\n};\n","export const newsByGame = {\n  730: {\n    gid: '4074045244007393762',\n    title: 'Ninjas in Pyjamas sign dev1ce on a three-year CS:GO contract',\n    url: 'https://steamstore-a.akamaihd.net/news/externalpost/The Loadout/4074045244007393762',\n    is_external_url: true,\n    author: 'editor@theloadout.com',\n    contents:\n      '<img width=\"900\" height=\"507\" src=\"https://www.theloadout.com/wp-content/uploads/2020/01/device-astralis-starladder-berlin-major-csgo-1920-1080-the-loadout-900x506.jpeg\"/><p>Four-time Counter-Strike: Global Offensive Major winner Nicolai \\'dev1ce\\' Reedtz has today announced he\\'s closed the door on his time with Astralis, an organisation he helped set up in January 2016. The 25-year-old Dane now joins Ninjas in Pyjamas by \"personal request\" on a three-year deal.</p>\\n<p>His transfer comes after Astralis struggled to halt its decline in 2021, with dev1ce himself hinting at roster changes in an interview with <a href=\"https://www.hltv.org/news/31546/device-it-is-to-be-expected-that-some-things-might-change\">HLTV</a> two weeks ago. This now marks the first time in eight years that the AWPer will play without Peter \\'dupreeh\\' Rasmussen and Andreas \\'Xyp9x\\' Højsleth.</p>\\n<p>\"Leaving Astralis is tough, to say the least,\" dev1ce says in a press release. \"The boys will always be like family to me, but this COVID era has left me thinking a lot; where do I see myself when it all goes back to normal? I\\'ve lived in Sweden for some time now, speaking the language and I\\'m really hyped about this young and exciting NIP project. To join one of the most successful organizations, where so many legends have played, inspires me.\"</p>\\n<p><a href=\"https://www.theloadout.com/csgo/nip-astralis-dev1ce\">Read the rest of the story...</a></p>\\n<p>RELATED LINKS:<br />\\n<a href=\"https://www.theloadout.com/csgo/patch-notes\">CS:GO patch notes: what\\'s new in the latest update?</a><br />\\n<a href=\"https://www.theloadout.com/csgo/virtus-pro-2016-terrorist-group-mistake\">Virtus.pro mistaken for terrorist group after 2016 CS:GO prize money blunder</a><br />\\n<a href=\"https://www.theloadout.com/csgo/vac-ban-review\">Valve reviews its CS:GO VAC ban policy, frees some professionals</a></p>',\n    feedlabel: 'The Loadout',\n    date: 1619181199,\n    feedname: 'The Loadout',\n    feed_type: 0,\n    appid: 730,\n  },\n  570: {\n    gid: '4074045244003679473',\n    title: 'A Dota 2 fan is recreating its runes as gorgeous animations',\n    url: 'https://steamstore-a.akamaihd.net/news/externalpost/PCGamesN/4074045244003679473',\n    is_external_url: true,\n    author: 'editor@pcgamesn.com',\n    contents:\n      '<img width=\"900\" height=\"507\" src=\"https://www.pcgamesn.com/wp-content/uploads/2020/09/dota-2-windranger-arcana-900x506.jpg\"/><p>Runes are a familiar - and very handy - feature of Dota 2, popping up on the <a href=\"https://www.pcgamesn.com/which-best-moba\">MOBA game\\'s</a> map to offer temporary buffs and effects, or even to drop some extra gold into your hero\\'s pocket. They\\'ve also got some appealing designs, signalling what each is used for - and now, one fan\\'s taken this a whole leap further by recreating the runes as gorgeous animated art.</p>\\n<p>Dota 2 fan SurWesley has been busy recreating a bunch of the <a href=\"https://www.pcgamesn.com/best-multiplayer-games\">multiplayer game\\'s</a> runes using the open-source 3D graphics software Blender and sharing them on Reddit lately, with several already completed - and they\\'re really lovely things to look at. One that\\'s particularly caught my eye is their animated recreation of Dota\\'s regeneration rune.</p>\\n<p>Its wedge-like chunk of translucent and vivid green glassy material looks just how you\\'d imagine it from the in-game model, and we can see its branches and leaves crunch as they wrap around it. It even incorporates that distinctive <a href=\"https://dota2.fandom.com/wiki/Item_sounds\">sound effect</a> Dota fans will know well, so we\\'re in no doubt what it is - you can take a look below for yourself.</p>\\n<p><a href=\"https://www.pcgamesn.com/dota-2/rune-animations\">Read the rest of the story...</a></p>\\n<p>RELATED LINKS:<br />\\n<a href=\"https://www.pcgamesn.com/dota-2/dragons-blood-season-2\">Dota: Dragon\\'s Blood Season 2 is officially in the works</a><br />\\n<a href=\"https://www.pcgamesn.com/dota-2/netflix-documentary\">Dota 2 documentary coming to Netflix</a><br />\\n<a href=\"https://www.pcgamesn.com/dota-2/steam-workshop-summer-2021\">Dota 2 devs put out summer 2021 Steam Workshop call to arms</a></p>',\n    feedlabel: 'PCGamesN',\n    date: 1619092914,\n    feedname: 'PCGamesN',\n    feed_type: 0,\n    appid: 570,\n  },\n  1091500: {\n    gid: '4074045244007442610',\n    title:\n      'CD Projekt made over £215m profit in 2020 - despite Cyberpunk 2077 refunds costing tens of millions',\n    url: 'https://steamstore-a.akamaihd.net/news/externalpost/eurogamer/4074045244007442610',\n    is_external_url: true,\n    author: '',\n    contents:\n      '<img src=\"https://d2skuhm0vrry40.cloudfront.net/2021/articles/2021-04-23-11-46/cd-projekt-made-over-gbp215m-profit-in-2020-despite-cyberpunk-2077-refunds-costing-tens-of-millions-1619174781416.jpg/EG11/resize/300x-1/quality/90/format/jpg\" alt=\"\"/><p>Refunds of Cyberpunk 2077 failed to dent CD Projekt\\'s sales success.</p><p>In its <a href=\"https://www.cdprojekt.com/en/wp-content/uploads-en/2021/04/separate-financial-statement-of-cd-projekt-sa-for-2020.pdf\" target=\"_blank\">financial report</a> for last year, CD Projekt revealed 30,000 refunds were issued through its \"Help Me Refund\" program. The company spent 8.46m PLN (£1.6m) on the program.</p><p>However, it\\'s worth pointing out that the 30,000 refunds figure relates only to CD Projekt\\'s own \"Help Me Refund\" program. It does not include refunds made by other shops and digital storefronts.</p><p><a href=\"https://www.eurogamer.net/articles/2021-04-23-cd-projekt-made-over-gbp215m-profit-in-2020-despite-cyberpunk-2077-refunds-costing-tens-of-millions\">Read more</a></p>',\n    feedlabel: 'Eurogamer',\n    date: 1619182140,\n    feedname: 'eurogamer',\n    feed_type: 0,\n    appid: 292030,\n  },\n};\n","export function getDateFromUnixTimestamp(dt) {\n  return new Date(dt * 1000).toLocaleDateString();\n}\n","import { gameInfo } from './games.js';\nimport { newsByGame } from './fixtures.js';\nimport { getDateFromUnixTimestamp } from './utils';\n\nwindow.dataStore = {\n  currentGames: {},\n};\n\nrenderApp();\n\nfunction renderApp() {\n  document.querySelector('#app-root').innerHTML = `\n        ${App()}\n    `;\n}\n\nfunction App() {\n  return `\n        <form id=\"games\">${renderForm()}</form>\n        <section id=\"feed\">News feed will be here...</section>\n    `;\n}\nwindow.renderNewsFeed = renderNewsFeed;\n\nfunction renderNewsFeed() {\n  let content = '';\n  Object.keys(window.dataStore.currentGames).map(appid => {\n    const newsData = newsByGame[appid];\n    if (newsData) {\n      const { date, title, contents } = newsData;\n\n      content += `<h3 class=\"title\">${title}</h3>`;\n      content += `<div>${getDateFromUnixTimestamp(date)}</div>`;\n      content += `<p class=\"content\">${contents}</p>`;\n    }\n  });\n\n  return content ? `<div>${content}</div>` : 'News feed will be here...';\n}\n\nfunction renderForm() {\n  return ` \n        <fieldset>\n        <legend class=\"headline\">Select games to track news</legend>\n        ${gameInfo.response.apps\n          .map(\n            ({ appid, name }) =>\n              `<label for=\"${appid}\">\n                <input\n                  type=\"checkbox\"\n                  id=\"${appid}\"\n                  class=\"main__checkbox\"\n                  name=\"${name}\"\n                  value=\"${appid}\"\n                  aria-label=\"csgo\"\n                />\n                <span class=\"gaem__item\">${name}</span>\n              </label>`,\n          )\n          .join('')}\n        </fieldset>\n        `;\n}\n\ntrackGames();\n\nfunction trackGames() {\n  document.querySelector('#games').addEventListener('change', ({ target }) => {\n    if (target.type === 'checkbox') {\n      if (target.checked === true) {\n        window.dataStore.currentGames[target.value] = target.name;\n        document.querySelector('#feed').innerHTML = window.renderNewsFeed();\n      } else {\n        delete window.dataStore.currentGames[target.value];\n        document.querySelector('#feed').innerHTML = window.renderNewsFeed();\n      }\n    }\n  });\n}\n"]}